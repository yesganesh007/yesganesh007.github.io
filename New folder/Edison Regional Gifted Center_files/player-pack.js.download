(function(b){var a=function(j,n){var g=b.extend({},b.fn.nivoSlider.defaults,n);var l={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false};var f=function(q,p,s){for(var o=0;o<p.slices;o++){var r=Math.round(q.width()/p.slices);if(o==p.slices-1){q.append(b('<div class="nivo-slice"></div>').css({left:(r*o)+"px",width:(q.width()-(r*o))+"px",height:"0px",opacity:"0",background:'url("'+s.currentImage.src+'") no-repeat -'+(o*r)+"px 0%"}))}else{q.append(b('<div class="nivo-slice"></div>').css({left:(r*o)+"px",width:r+"px",height:"0px",opacity:"0",background:'url("'+s.currentImage.src+'") no-repeat -'+(o*r)+"px 0%"}))}}};var h=function(q,o,t){var p=Math.round(q.width()/o.boxCols);var u=Math.round(q.height()/o.boxRows);for(var r=0;r<o.boxRows;r++){for(var s=0;s<o.boxCols;s++){q.append(b('<div class="nivo-box"></div>').css({opacity:0,left:(p*s)+"px",top:(u*r)+"px",width:(s==o.boxCols-1?(q.width()-(p*s)):p)+"px",height:(r==o.boxRows-1?(q.height()-(u*r)):u)+"px",background:'url("'+t.currentImage.src+'") no-repeat -'+(s*p)+"px -"+(r*u)+"px"}))}}};var e=function(p,o,s){var r=p.data("nivo:vars");var q=new Image();q.src=g.images[o].src;b(q).load(function(){g.images[o].loaded=true;if(s){s()}})};var m=function(B,E){var A=B.data("nivo:vars");if(A&&(A.currentSlide==A.totalSlides-1)){E.lastSlide.call(this)}b(".nivo-pause",B).hide();if(!A.currentImage.loaded){e(B,A.currentSlide,function(){A.currentSlide-=1;m(B,E)});clearInterval(c);c="";return false}for(var C=0;C<E.preloadQueueLength;++C){var y=parseInt(A.currentSlide)+C+1;if(y>=A.totalSlides){y-=A.totalSlides}if(y>0&&y<A.totalSlides&&!E.images[y].loaded){e(B,y)}}if(!A||A.stop){b(".nivo-pause",B).show();return false}E.beforeChange.call(this);B.css("background",'url("'+A.currentImage.src+'") no-repeat');B.css("backgroundSize","cover");B.css("backgroundPosition","center");A.currentSlide++;if(A.currentSlide==A.totalSlides){A.currentSlide=0;E.slideshowEnd.call(this)}if(A.currentSlide<0){A.currentSlide=(A.totalSlides-1)}A.currentImage=E.images[A.currentSlide];b(".nivo-caption-wrapper",B).html("<div class='nivo-caption' style='"+(typeof A.currentImage.caption!="undefined"?A.currentImage.caption.styling:"")+"; display: none; position: absolute; z-index: 1000;'>"+(typeof A.currentImage.caption!="undefined"?A.currentImage.caption.text:"")+"</div>");b(".nivo-imgCount",B).html((A.currentSlide+1)+" / "+A.totalSlides);b(".nivo-slice",B).remove();b(".nivo-box",B).remove();if(E.transition=="random"){var G=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");A.randAnim=G[Math.floor(Math.random()*(G.length+1))];if(A.randAnim==undefined){A.randAnim="fade"}}if(E.transition.indexOf(",")!=-1){var G=E.transition.split(",");A.randAnim=G[Math.floor(Math.random()*(G.length))];if(A.randAnim==undefined){A.randAnim="fade"}}A.running=true;if(E.transition=="sliceDown"||E.transition=="sliceDownRight"||A.randAnim=="sliceDownRight"||E.transition=="sliceDownLeft"||A.randAnim=="sliceDownLeft"){f(B,E,A);var F=0;var C=0;var o=b(".nivo-slice",B);if(E.transition=="sliceDownLeft"||A.randAnim=="sliceDownLeft"){o=b(".nivo-slice",B)._reverse()}o.each(function(){var v=b(this);v.css({top:"0px"});if(C==E.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed,"",function(){B.trigger("nivo:animFinished")})},(100+F))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed)},(100+F))}F+=50;C++})}else{if(E.transition=="sliceUp"||E.transition=="sliceUpRight"||A.randAnim=="sliceUpRight"||E.transition=="sliceUpLeft"||A.randAnim=="sliceUpLeft"){f(B,E,A);var F=0;var C=0;var o=b(".nivo-slice",B);if(E.transition=="sliceUpLeft"||A.randAnim=="sliceUpLeft"){o=b(".nivo-slice",B)._reverse()}o.each(function(){var v=b(this);v.css({bottom:"0px"});if(C==E.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed,"",function(){B.trigger("nivo:animFinished")})},(100+F))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed)},(100+F))}F+=50;C++})}else{if(E.transition=="sliceUpDown"||E.transition=="sliceUpDownRight"||A.randAnim=="sliceUpDown"||E.transition=="sliceUpDownLeft"||A.randAnim=="sliceUpDownLeft"){f(B,E,A);var F=0;var C=0;var w=0;var o=b(".nivo-slice",B);if(E.transition=="sliceUpDownLeft"||A.randAnim=="sliceUpDownLeft"){o=b(".nivo-slice",B)._reverse()}o.each(function(){var v=b(this);if(C==0){v.css("top","0px");C++}else{v.css("bottom","0px");C=0}if(w==E.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed,"",function(){B.trigger("nivo:animFinished")})},(100+F))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},E.animationSpeed)},(100+F))}F+=50;w++})}else{if(E.transition=="fold"||A.randAnim=="fold"){f(B,E,A);var F=0;var C=0;b(".nivo-slice",B).each(function(){var v=b(this);var H=v.width();v.css({top:"0px",height:"100%",width:"0px"});if(C==E.slices-1){setTimeout(function(){v.animate({width:H,opacity:"1.0"},E.animationSpeed,"",function(){B.trigger("nivo:animFinished")})},(100+F))}else{setTimeout(function(){v.animate({width:H,opacity:"1.0"},E.animationSpeed)},(100+F))}F+=50;C++})}else{if(E.transition=="fade"||A.randAnim=="fade"){f(B,E,A);var t=b(".nivo-slice:first",B);t.attr("id","nivo-slice-0");t.css({height:"100%",width:B.width()+"px",backgroundSize:"cover",backgroundPosition:"center"});t.animate({opacity:"1.0"},(E.animationSpeed*2),"",function(){B.trigger("nivo:animFinished")})}else{if(E.transition=="slideInRight"||A.randAnim=="slideInRight"){f(B,E,A);var t=b(".nivo-slice:first",B);t.css({height:"100%",width:"0px",opacity:"1"});t.animate({width:B.width()+"px"},(E.animationSpeed*2),"",function(){B.trigger("nivo:animFinished")})}else{if(E.transition=="slideInLeft"||A.randAnim=="slideInLeft"){f(B,E,A);var t=b(".nivo-slice:first",B);t.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});t.animate({width:B.width()+"px"},(E.animationSpeed*2),"",function(){t.css({left:"0px",right:""});B.trigger("nivo:animFinished")})}else{if(E.transition=="boxRandom"||A.randAnim=="boxRandom"){h(B,E,A);var D=E.boxCols*E.boxRows;var C=0;var F=0;var q=k(b(".nivo-box",B));q.each(function(){var v=b(this);if(C==D-1){setTimeout(function(){v.animate({opacity:"1"},E.animationSpeed,"",function(){B.trigger("nivo:animFinished")})},(100+F))}else{setTimeout(function(){v.animate({opacity:"1"},E.animationSpeed)},(100+F))}F+=20;C++})}else{if(E.transition=="boxRain"||A.randAnim=="boxRain"||E.transition=="boxRainReverse"||A.randAnim=="boxRainReverse"||E.transition=="boxRainGrow"||A.randAnim=="boxRainGrow"||E.transition=="boxRainGrowReverse"||A.randAnim=="boxRainGrowReverse"){h(B,E,A);var D=E.boxCols*E.boxRows;var C=0;var F=0;var s=0;var z=0;var x=new Array();x[s]=new Array();var q=b(".nivo-box",B);if(E.transition=="boxRainReverse"||A.randAnim=="boxRainReverse"||E.transition=="boxRainGrowReverse"||A.randAnim=="boxRainGrowReverse"){q=b(".nivo-box",B)._reverse()}q.each(function(){x[s][z]=b(this);z++;if(z==E.boxCols){s++;z=0;x[s]=new Array()}});for(var u=0;(u<(E.boxCols*3)&&C<D);u++){var p=u;for(var r=0;r<E.boxRows;r++){if(p>=0&&p<E.boxCols){(function(M,H,L,I,N){var K=b(x[M][H]);var v=K.width();var J=K.height();if(E.transition=="boxRainGrow"||A.randAnim=="boxRainGrow"||E.transition=="boxRainGrowReverse"||A.randAnim=="boxRainGrowReverse"){K.width(0).height(0)}if(I==N-1){setTimeout(function(){K.animate({opacity:"1",width:v,height:J},E.animationSpeed/1.3,"",function(){B.trigger("nivo:animFinished")})},(100+L))}else{setTimeout(function(){K.animate({opacity:"1",width:v,height:J},E.animationSpeed/1.3)},(100+L))}})(r,p,F,C,D);C++}p--}F+=100}}}}}}}}}}};var d=b(j);d.data("nivo:vars",l);d.css("position","relative");d.addClass("nivoSlider");d.empty();l.totalSlides=g.images.length;l.currentImage=g.images[l.currentSlide];d.click(function(p){var o=p.target.className;if(o!="nivo-prevNav"&&o!="nivo-imgCount"&&o!="nivo-nextNav"){d.data("nivo:vars").stop=!d.data("nivo:vars").stop}});var c="";if(g.images.length>0){m(d,g)}d.append('<div class="nivo-caption-wrapper"></div>');b(".nivo-caption-wrapper",d).css("position: relative;");d.append('<div class="nivo-pause"></div>');if(g.showNavigation){d.append('<div class="nivo-navigation"><a class="nivo-prevNav"></a><a class="nivo-imgCount"></a><a class="nivo-nextNav"></a></div>');b("a.nivo-prevNav",d).live("click",function(){if(l.running){return false}clearInterval(c);c="";l.currentSlide-=2;m(d,g)});b("a.nivo-imgCount",d).html((l.currentSlide+1)+" / "+l.totalSlides);b("a.nivo-nextNav",d).live("click",function(){if(l.running){return false}clearInterval(c);c="";m(d,g)});if(l.totalSlides>0){b("div.nivo-navigation",d).css("display","block")}}d.bind("nivo:animFinished",function(){l.running=false;b(".nivo-caption",d).css("display","block");if(c==""&&!l.paused){c=setInterval(function(){m(d,g)},g.rotateTime)}g.afterChange.call(this)});var k=function(p){for(var q,o,r=p.length;r;q=parseInt(Math.random()*r),o=p[--r],p[r]=p[q],p[q]=o){}return p};var i=function(o){if(this.console&&typeof console.log!="undefined"){console.log(o)}};this.stop=function(){if(!b(j).data("nivo:vars").stop){b(j).data("nivo:vars").stop=true;i("Stop Slider")}};this.start=function(){if(b(j).data("nivo:vars").stop){b(j).data("nivo:vars").stop=false;i("Start Slider")}};g.afterLoad.call(this);return this};b.fn.nivoSlider=function(c){return this.each(function(e,g){var d=b(this);if(d.data("nivoslider")){return d.data("nivoslider")}var f=new a(this,c);d.data("nivoslider",f)})};b.fn.nivoSlider.defaults={transition:"random",slices:15,boxCols:8,boxRows:4,animationSpeed:500,rotateTime:3000,showNavigation:true,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){},images:[],preloadQueueLength:2};b.fn._reverse=[].reverse})(jQuery);